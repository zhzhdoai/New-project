

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;dark&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="osword">
  <meta name="keywords" content="">
  <title>| PHP弱类型 | - osword&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/darcula.min.css" />
    
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2019-02-27 17:19" pubdate>
        2019年2月27日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      932 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      13
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">| PHP弱类型 |</h1>
            
            <div class="markdown-body" id="post-body">
              <h1 id="Hash比较（科学计数法）"><a href="#Hash比较（科学计数法）" class="headerlink" title="Hash比较（科学计数法）"></a>Hash比较（科学计数法）</h1><pre><code class="hljs 1c"><span class="hljs-string">"0e132456789"</span>==<span class="hljs-string">"0e7124511451155"</span> <span class="hljs-comment">//true</span>
<span class="hljs-string">"0e123456abc"</span>==<span class="hljs-string">"0e1dddada"</span>	<span class="hljs-comment">//false</span>
<span class="hljs-string">"0e1abc"</span>==<span class="hljs-string">"0"</span>     <span class="hljs-comment">//true</span></code></pre>
<h1 id="十六进制转换"><a href="#十六进制转换" class="headerlink" title="十六进制转换"></a>十六进制转换</h1><pre><code class="hljs 1c"><span class="hljs-string">"0x1e240"</span>==<span class="hljs-string">"123456"</span> <span class="hljs-comment">//true</span>
<span class="hljs-string">"0x1e240"</span>==<span class="hljs-number">123456</span> <span class="hljs-comment">//true</span>
<span class="hljs-string">"0x1e240"</span>==<span class="hljs-string">"1e240"</span> <span class="hljs-comment">//false</span></code></pre>
<p>字符串解析为十进制在进行比较</p>
<h1 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h1><p>Int转string</p>
<pre><code class="hljs autoit">$var = <span class="hljs-number">5</span><span class="hljs-comment">;</span>
方式<span class="hljs-number">1</span>：$item = (<span class="hljs-built_in">string</span>)$var<span class="hljs-comment">;</span>
方式<span class="hljs-number">2</span>：$item = strval($var)<span class="hljs-comment">;</span></code></pre>
<h1 id="String转int-intval-函数"><a href="#String转int-intval-函数" class="headerlink" title="String转int : intval()函数"></a>String转int : intval()函数</h1><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">var_dump</span><span class="hljs-params">(intval(<span class="hljs-string">'2'</span>)</span></span>) <span class="hljs-comment">//2</span>
<span class="hljs-function"><span class="hljs-title">var_dump</span><span class="hljs-params">(intval(<span class="hljs-string">'3abcd'</span>)</span></span>) <span class="hljs-comment">//3</span>
<span class="hljs-function"><span class="hljs-title">var_dump</span><span class="hljs-params">(intval(<span class="hljs-string">'abcd'</span>)</span></span>) <span class="hljs-comment">//0</span></code></pre>
<h2 id="Ctf-demo"><a href="#Ctf-demo" class="headerlink" title="Ctf demo"></a>Ctf demo</h2><p>if(intval($a)&gt;1000) {<br>    mysql_query(“select * from news where id=”.$a)<br>}</p>
<p>$a=1002 union…　造成ｓｑｌ注入</p>
<h1 id="intval"><a href="#intval" class="headerlink" title="intval()"></a>intval()</h1><p>intval()转换的时候，会将从字符串的开始进行转换知道遇到一个非数字的字符。<br>即使出现无法转换的字符串，intval()不会报错而是返回0。<br>注：<br>在科学计数法字符串转换为数字时，如果 E 后面的数小于某个值会弄成 double 类型，再强制转换为 int 类型时可能会有奇妙的结果，测试发现某变量为 1e-1000 时已经可以触发这个漏洞绕过两个检查，使得某变量既大于 0 又不大于 0。<br>例如：</p>
<pre><code class="hljs lisp">var_dump((<span class="hljs-name">int</span>)('<span class="hljs-number">1e-1000</span>')&gt;0)<span class="hljs-comment">;</span>
var_dump('<span class="hljs-number">1e-1000</span>'&gt;0)<span class="hljs-comment">;</span></code></pre>
<p>结果</p>
<pre><code class="hljs gauss">Command <span class="hljs-keyword">line</span> <span class="hljs-built_in">code</span>:<span class="hljs-number">1</span>:
<span class="hljs-keyword">bool</span>(true)
Command <span class="hljs-keyword">line</span> <span class="hljs-built_in">code</span>:<span class="hljs-number">1</span>:
<span class="hljs-keyword">bool</span>(false)</code></pre>
<p>再如：</p>
<pre><code class="hljs lisp">var_dump((<span class="hljs-name">int</span>)('<span class="hljs-number">1e-10</span>')&gt;0)<span class="hljs-comment">;</span>
var_dump('<span class="hljs-number">1e-10</span>'&gt;0)<span class="hljs-comment">;</span></code></pre>
<p>结果</p>
<pre><code class="hljs gauss">Command <span class="hljs-keyword">line</span> <span class="hljs-built_in">code</span>:<span class="hljs-number">1</span>:
<span class="hljs-keyword">bool</span>(true)
Command <span class="hljs-keyword">line</span> <span class="hljs-built_in">code</span>:<span class="hljs-number">1</span>:
<span class="hljs-keyword">bool</span>(true)</code></pre>
<h1 id="ereg"><a href="#ereg" class="headerlink" title="ereg()"></a>ereg()</h1><p>字符串对比解析，ereg函数存在NULL截断漏洞，当ereg读取字符串string时,如果遇到了%00,后面的字符串就不会被解析。<br>注：这里的%00是需要urldecode才可以截断的，这是url终止符，且%00长度是1不是3</p>
<h1 id="内置函数的参数的松散性"><a href="#内置函数的参数的松散性" class="headerlink" title="内置函数的参数的松散性"></a>内置函数的参数的松散性</h1><p>内置函数的松散性说的是，调用函数时给函数传递函数无法接受的参数类型。</p>
<h2 id="md5"><a href="#md5" class="headerlink" title="md5()"></a>md5()</h2><pre><code class="hljs php">$array1[] = <span class="hljs-keyword">array</span>(
<span class="hljs-string">"foo"</span> =&gt; <span class="hljs-string">"bar"</span>,
<span class="hljs-string">"bar"</span> =&gt; <span class="hljs-string">"foo"</span>,
);
$array2 = １;
var_dump(md5($array1)==var_dump($array2)); <span class="hljs-comment">//true</span></code></pre>
<p><img src="./1/png" srcset="/img/loading.gif" alt=""></p>
<h2 id="Strcmp"><a href="#Strcmp" class="headerlink" title="Strcmp()"></a>Strcmp()</h2><pre><code class="hljs mel"><span class="hljs-keyword">strcmp</span> ( <span class="hljs-keyword">string</span> $str1 , <span class="hljs-keyword">string</span> $str2 ) : <span class="hljs-keyword">int</span>
$array=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
var_dump(<span class="hljs-keyword">strcmp</span>($array,<span class="hljs-string">'123'</span>)); <span class="hljs-comment">//null,在某种意义上null也就是相当于false。</span></code></pre>
<p><img src="./2/png" srcset="/img/loading.gif" alt=""></p>
<h2 id="switch"><a href="#switch" class="headerlink" title="switch()"></a>switch()</h2><p>如果case判断值为int形，switch会将传入的参数转换为int类型</p>
<pre><code class="hljs php">$i =<span class="hljs-string">"2abc"</span>;
<span class="hljs-keyword">switch</span> ($i) &#123;
<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"i is less than 3 but not negative"</span>;
    <span class="hljs-keyword">break</span>;
<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"i is 3"</span>;
&#125;</code></pre>
<p><img src="./3/png" srcset="/img/loading.gif" alt=""></p>
<h1 id="“-”和’-’弱类型问题"><a href="#“-”和’-’弱类型问题" class="headerlink" title="“==”和’===’弱类型问题"></a>“==”和’===’弱类型问题</h1><p><code>＝＝</code>：比较两侧的值，不同类型会自动转换为同种类型。如传参与整形比较－&gt;整形。传参与字符串比较－&gt;字符串</p>
<pre><code class="hljs xml"><span class="php"><span class="hljs-meta">&lt;?php</span></span>
<span class="php">$a = $_GET[<span class="hljs-string">'a'</span>];</span>
<span class="php"><span class="hljs-keyword">if</span> ($a==<span class="hljs-number">1</span>)</span>
<span class="php">&#123;</span>
<span class="php"><span class="hljs-keyword">echo</span> ‘vul-&gt;’.$a;</span>
<span class="php">&#125;</span></code></pre>
<p>Payload : <code>http://127.0.0.1/fuzz.php?a=1a</code><br>成功进入ｉｆ条件语句中<br><img src="./4/png" srcset="/img/loading.gif" alt=""><br><code>“＝＝＝”</code>：　符号比较两侧的值和类型，但不是绝对安全的。在加减乘除中会自动进行整形转换。<br>ＤＥＭＯ:</p>
<pre><code class="hljs xml"><span class="php"><span class="hljs-meta">&lt;?php</span></span>
<span class="php">$a = $_GET[<span class="hljs-string">'a'</span>];</span>
<span class="php">$b = $_GET[<span class="hljs-string">'b'</span>];</span>
<span class="php"><span class="hljs-keyword">if</span>($a+$b===<span class="hljs-number">2</span>)</span>
<span class="php">&#123;</span>
<span class="php"><span class="hljs-keyword">echo</span> <span class="hljs-string">'vul-&gt;'</span>.$a.<span class="hljs-string">'&lt;/br&gt;'</span>.$b;</span>
<span class="php">&#125;</span></code></pre>
<p>Payload : <code>&quot;http://172.31.19.5/fuzz.php?a=1a&amp;b=1b&quot;</code><br>成功进入条件语句<br><img src="./5/png" srcset="/img/loading.gif" alt=""></p>
<h2 id="修复策略"><a href="#修复策略" class="headerlink" title="修复策略"></a>修复策略</h2><p>：intval强制类型转换或者过滤</p>
<h1 id="In-array-函数使用不严谨导致的弱类型"><a href="#In-array-函数使用不严谨导致的弱类型" class="headerlink" title="In_array()函数使用不严谨导致的弱类型"></a>In_array()函数使用不严谨导致的弱类型</h1><pre><code class="hljs angelscript"><span class="hljs-keyword">if</span>(in_array($_GET[<span class="hljs-string">'id'</span>],<span class="hljs-built_in">array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)))
&#123;
echo $_GET[<span class="hljs-string">'id'</span>];
&#125;</code></pre>
<p>Payload:<code>&quot;http://172.31.19.5/fuzz.php?id=1a&quot;</code><br>成功转换<br><img src="./6/png" srcset="/img/loading.gif" alt=""></p>
<h2 id="修复方式"><a href="#修复方式" class="headerlink" title="修复方式"></a>修复方式</h2><p>开启函数中的参数strict=Ture ,传参使用intval修饰<br><code>if(in_array(intval($_GET[&#39;id&#39;]),array(1,2,3,4,5),true))</code></p>
<h1 id="is-numeric-十六进制转换字符"><a href="#is-numeric-十六进制转换字符" class="headerlink" title="is_numeric()十六进制转换字符"></a>is_numeric()十六进制转换字符</h1><pre><code class="hljs xml"><span class="php"><span class="hljs-meta">&lt;?php</span> </span>
<span class="php"><span class="hljs-keyword">if</span>(is_numeric($_GET[<span class="hljs-string">'num'</span>]))</span>

<span class="php">&#123;</span>

<span class="php"><span class="hljs-comment">//echo $_GET['num'];</span></span>

<span class="php"><span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;/br&gt;'</span>;</span>

<span class="php"><span class="hljs-comment">//假设这个插入进了mysql数据库，mysql数据库就会把十六进制转换成了字符串，这里为了方便用 Hex2String 函数代替</span></span>

<span class="php"><span class="hljs-keyword">echo</span> Hex2String($_GET[<span class="hljs-string">'num'</span>]);</span>



<span class="php">&#125;</span>

<span class="php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Hex2String</span><span class="hljs-params">($hex)</span></span>&#123;</span>

<span class="php">$string=”;</span>

<span class="php"><span class="hljs-keyword">for</span> ($i=<span class="hljs-number">0</span>; $i &lt; strlen($hex)<span class="hljs-number">-1</span>; $i+=<span class="hljs-number">2</span>)&#123;</span>

<span class="php">$string .= chr(hexdec($hex[$i].$hex[$i+<span class="hljs-number">1</span>]));</span>

<span class="php">&#125;</span>

<span class="php"><span class="hljs-keyword">return</span> $string;</span>

<span class="php">&#125;</span>

<span class="php"><span class="hljs-meta">?&gt;</span></span></code></pre>
<p>//输入<code>http://127.0.01/equal.php?num=0x39393939393939393939393920756e696f6e20616c6c202873656c656374202748656c6c6f21212729</code><br>//输出<code>0x39393939393939393939393920756e696f6e20616c6c202873656c656374202748656c6c6f2121272</code><br>//输出<code>9999999999999 union all (select ‘Hello!!’)</code></p>
<p>参考链接;<a href="https://blog.spoock.com/2016/06/25/weakly-typed-security/" target="_blank" rel="noopener">https://blog.spoock.com/2016/06/25/weakly-typed-security/</a><br>        <a href="https://skysec.top/2017/07/22/PHP%E5%87%BD%E6%95%B0%E9%BB%91%E9%AD%94%E6%B3%95%E5%B0%8F%E6%80%BB%E7%BB%93/" target="_blank" rel="noopener">https://skysec.top/2017/07/22/PHP%E5%87%BD%E6%95%B0%E9%BB%91%E9%AD%94%E6%B3%95%E5%B0%8F%E6%80%BB%E7%BB%93/</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/WEB%E5%AE%89%E5%85%A8/">WEB安全</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/02/27/%E5%87%BD%E6%95%B0%E7%89%B9%E6%80%A7-%E7%BB%95%E8%BF%87%E7%9A%84%E7%A9%BA%E7%99%BD%E5%AD%97%E7%AC%A6/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">函数特性 | 绕过的空白字符</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2019/02/26/%E8%BD%AC%E8%BD%BD-WAF%E6%94%BB%E9%98%B2%E4%B9%8BSQL%E6%B3%A8%E5%85%A5%E7%AF%87/">
                        <span class="hidden-mobile">转载 | WAF攻防之SQL注入篇</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "| PHP弱类型 |&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
